(function(){"use strict";function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function b(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&("object"==typeof h||"function"==typeof h)?h:g}function c(g,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},f=function(){function g(h,j){for(var l,k=0;k<j.length;k++)l=j[k],l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}return function(h,j,k){return j&&g(h.prototype,j),k&&g(h,k),h}}();(function(g){function h(k){if(j[k])return j[k].exports;var l=j[k]={i:k,l:!1,exports:{}};return g[k].call(l.exports,l,l.exports,h),l.l=!0,l.exports}var j={};return h.m=g,h.c=j,h.i=function(k){return k},h.d=function(k,l,m){h.o(k,l)||Object.defineProperty(k,l,{configurable:!1,enumerable:!0,get:m})},h.n=function(k){var l=k&&k.__esModule?function(){return k["default"]}:function(){return k};return h.d(l,"a",l),l},h.o=function(k,l){return Object.prototype.hasOwnProperty.call(k,l)},h.p="",h(h.s=5)})([function(g,h,j){var k=j(8),l=j(1),m=j(7),p=j(6);j.d(h,"a",function(){return k.a}),j.d(h,"b",function(){return m.a})},function(g,h){h.a=function(l,m){var p=Element.prototype,q=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector||function(r){var t=this.document||this.ownerDocument;return-1!==t.querySelectorAll(r).indexOf(this)};return q.call(l,m)}},function(g){g.exports=function(){var j=[];return j.toString=function(){for(var p,l=[],m=0;m<this.length;m++)p=this[m],p[2]?l.push("@media "+p[2]+"{"+p[1]+"}"):l.push(p[1]);return l.join("")},j.i=function(k,l){"string"==typeof k&&(k=[[null,k,""]]);for(var q,m={},p=0;p<this.length;p++)q=this[p][0],"number"==typeof q&&(m[q]=!0);for(p=0;p<k.length;p++){var r=k[p];"number"==typeof r[0]&&m[r[0]]||(l&&!r[2]?r[2]=l:l&&(r[2]="("+r[2]+") and ("+l+")"),j.push(r))}},j}},function(g,h,j){function k(F){var G=F.shadowRoot.querySelector(".output"),H=+F.storyLimit;if(0!==H){for(;null!==G&&G.firstChild;)G.removeChild(G.firstChild);var I=F.shadowRoot.querySelector("#story-template"),J=r.b(I,"template");if(!J)throw new Error("No template was specified!");var K=m(this);-1===H&&(H=K.length);for(var L=function(O){J.getElementsByTagName("img").forEach(function(Q){Q.setAttribute("src",K[O].FeaturedImgUrl)}),J.getElementsByTagName("h2").forEach(function(Q){Q.innerHTML=K[O].Title}),J.getElementsByTagName("p").forEach(function(Q){Q.innerHTML=K[O].Summary});var P=document.importNode(J.content,!0);G.appendChild(P)},M=0;M<H;++M)L(M)}}function l(F){var G=F.shadowRoot.querySelector("#story-template");G.addEventListener("slotchange",function(){k(F)},!1)}function m(F){var G={title:F.title,categories:F.categories,tags:F.tags,minDate:F.minDate,maxDate:F.maxDate};console.log(G);var H=D+"Stories.json?categories="+G.categories+"&tags="+G.tags;G.minDate&&(H+="update[min]="+G.minDate),G.maxDate&&(H+="update[max]="+G.maxDate),fetch(H).then(function(I){return I.ok?I.json():"Error fetching the stories."})}var p=j(12),q=j.n(p),r=j(0),t=j(14),u=j.n(t),v="categories",w="tags",x="min-date",y="max-date",z="story-limit",D="https://news-dev.byu.edu/api/",E=function(F){function G(){a(this,G);var H=b(this,(G.__proto__||Object.getPrototypeOf(G)).call(this));return H.attachShadow({mode:"open"}),H}return c(G,F),f(G,[{key:"connectedCallback",value:function(){var I=this;r.a(this,"byu-news",q.a,function(){k(I),l(I)})}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(I){I===v||I===w||I===x||I===y||I===z?k(this):void 0}},{key:"categories",set:function(I){this.setAttribute(v,I)},get:function(){return this.hasAttribute(v)?this.getAttribute(v):"all"}},{key:"tags",set:function(I){this.setAttribute(w,I)},get:function(){return this.hasAttribute(w)?this.getAttribute(w):"all"}},{key:"minDate",set:function(I){this.setAttribute(x,I)},get:function(){if(this.hasAttribute(x))return this.getAttribute(x)}},{key:"maxDate",set:function(I){this.setAttribute(y,I)},get:function(){if(this.hasAttribute(y))return this.getAttribute(y)}},{key:"storyLimit",set:function(I){this.setAttribute(z,I)},get:function(){return this.hasAttribute(z)?this.getAttribute(z):"-1"}}],[{key:"observedAttributes",get:function(){return[v,w,x,y,z]}}]),G}(HTMLElement);window.customElements.define("byu-news",E),window.ByuNews=E},function(g,h,j){function k(r){var t=r.shadowRoot.querySelector("#fancy-template");t.addEventListener("slotchange",function(){},!1)}var l=j(13),m=j.n(l),p=j(0),q=function(r){function t(){a(this,t);var u=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.attachShadow({mode:"open"}),u}return c(t,r),f(t,[{key:"connectedCallback",value:function(){var v=this;p.a(this,"byu-story",m.a,function(){k(v)})}}]),t}(HTMLElement);window.customElements.define("byu-story",q),window.ByuStory=q},function(g,h,j){Object.defineProperty(h,"__esModule",{value:!0});var k=j(3),l=j(4)},function(){},function(g,h,j){h.a=function(m,p){for(var u,q=m.assignedNodes({flatten:!0}).filter(function(w){return w.nodeType===Node.ELEMENT_NODE}),r=0,t=q.length;r<t;r++){if(u=q[r],j.i(l.a)(u,p))return u;var v=u.querySelector(p);if(v)return v}return null};var l=j(1)},function(g,h,j){function l(u,v,w,x,y){var z="__byu-custom-element-template_"+v+"_"+y,A=document.head.querySelector("template#"+z);if(A||(A=document.createElement("template"),A.id=z,A.innerHTML=w,document.head.appendChild(A),ShadyCSS.prepareTemplate(A,v)),ShadyCSS.styleElement)ShadyCSS.styleElement(u);else if(ShadyCSS.applyStyle)ShadyCSS.applyStyle(u);else throw new Error("ShadyCSS is not properly defined: no styleElement or applyStyle!");for(var B=document.importNode(A.content,!0),C=u.shadowRoot;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(B),setTimeout(function(){p(u,x)})}function m(u,v,w){u.shadowRoot.innerHTML=v,p(u,w)}function p(u,v){u.classList.add(t),v&&v()}h.a=function(u,v,w,x){var y=r()(w),z=u.__byu_webCommunity_components=u.__byu_webCommunity_components||{};z.templateHash===y||(z.templateHash=y,window.ShadyCSS&&!window.ShadyCSS.nativeShadow?l(u,v,w,x,y):m(u,w,x))};var q=j(11),r=j.n(q),t="byu-component-rendered"},function(g,h,j){h=g.exports=j(2)(),h.push([g.i,"/*!\n *  @license\n *    Copyright 2017 Brigham Young University\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\n/*!\n *  @license\n *    Copyright 2017 Brigham Young University\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */",""])},function(g,h,j){h=g.exports=j(2)(),h.push([g.i,"/*!\n *  @license\n *    Copyright 2017 Brigham Young University\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */\n/*!\n *  @license\n *    Copyright 2017 Brigham Young University\n *\n *    Licensed under the Apache License, Version 2.0 (the \"License\");\n *    you may not use this file except in compliance with the License.\n *    You may obtain a copy of the License at\n *\n *        http://www.apache.org/licenses/LICENSE-2.0\n *\n *    Unless required by applicable law or agreed to in writing, software\n *    distributed under the License is distributed on an \"AS IS\" BASIS,\n *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *    See the License for the specific language governing permissions and\n *    limitations under the License.\n */",""])},function(g){function k(t,u){for(;t.length<u;)t="0"+t;return t}function l(t,u){var v,w,x;if(0===u.length)return t;for(v=0,x=u.length;v<x;v++)w=u.charCodeAt(v),t=(t<<5)-t+w,t|=0;return 0>t?-2*t:t}function m(t,u,v){return Object.keys(u).sort().reduce(function(x,y){return p(x,u[y],y,v)},t)}function p(t,u,v,w){var x=l(l(l(t,v),q(u)),"undefined"==typeof u?"undefined":d(u));return null===u?l(x,"null"):void 0===u?l(x,"undefined"):"object"===("undefined"==typeof u?"undefined":d(u))?-1===w.indexOf(u)?(w.push(u),m(x,u,w)):l(x,"[Circular]"+v):l(x,u.toString())}function q(t){return Object.prototype.toString.call(t)}g.exports=function(t){return k(p(0,t,"",[]).toString(16),8)}},function(g,h,j){g.exports="<style>"+j(9)+"</style> <div class=\"root\"> <div class=\"output\"></div> <div class=\"story-template-wrapper slot-container\"> <slot id=\"story-template\"> <template> <byu-story> <img src=\"//cdn.byu.edu/shared-icons/latest/logos/monogram-black.svg\" slot=\"story-image\" class=\"story-image\" alt=\"Story Image\"> <h2 slot=\"story-title\" class=\"story-title\">News Story</h2> <p slot=\"story-teaser\" class=\"story-teaser\">Story Teaser</p> </byu-story> </template> </slot> </div> </div>"},function(g,h,j){g.exports="<style>"+j(10)+"</style> <div class=\"root\"> <div id=\"image-slot-wrapper\"> <slot name=\"story-image\"></slot> </div> <div id=\"title-slot-wrapper\"> <slot name=\"story-title\"></slot> </div> <div id=\"description-slot-wrapper\"> <slot name=\"story-teaser\"></slot> </div> </div>"},function(){(function(j){function k(J){if("string"!=typeof J&&(J+=""),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(J))throw new TypeError("Invalid character in header field name");return J.toLowerCase()}function l(J){return"string"!=typeof J&&(J+=""),J}function m(J){var K={next:function(){var M=J.shift();return{done:void 0===M,value:M}}};return D.iterable&&(K[Symbol.iterator]=function(){return K}),K}function p(J){this.map={},J instanceof p?J.forEach(function(K,L){this.append(L,K)},this):Array.isArray(J)?J.forEach(function(K){this.append(K[0],K[1])},this):J&&Object.getOwnPropertyNames(J).forEach(function(K){this.append(K,J[K])},this)}function q(J){return J.bodyUsed?Promise.reject(new TypeError("Already read")):void(J.bodyUsed=!0)}function r(J){return new Promise(function(K,L){J.onload=function(){K(J.result)},J.onerror=function(){L(J.error)}})}function t(J){var K=new FileReader,L=r(K);return K.readAsArrayBuffer(J),L}function u(J){var K=new FileReader,L=r(K);return K.readAsText(J),L}function v(J){for(var K=new Uint8Array(J),L=Array(K.length),M=0;M<K.length;M++)L[M]=String.fromCharCode(K[M]);return L.join("")}function w(J){if(J.slice)return J.slice(0);var K=new Uint8Array(J.byteLength);return K.set(new Uint8Array(J)),K.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(J){if(this._bodyInit=J,!J)this._bodyText="";else if("string"==typeof J)this._bodyText=J;else if(D.blob&&Blob.prototype.isPrototypeOf(J))this._bodyBlob=J;else if(D.formData&&FormData.prototype.isPrototypeOf(J))this._bodyFormData=J;else if(D.searchParams&&URLSearchParams.prototype.isPrototypeOf(J))this._bodyText=J.toString();else if(D.arrayBuffer&&D.blob&&F(J))this._bodyArrayBuffer=w(J.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(D.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(J)||G(J)))this._bodyArrayBuffer=w(J);else throw new Error("unsupported BodyInit type");this.headers.get("content-type")||("string"==typeof J?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):D.searchParams&&URLSearchParams.prototype.isPrototypeOf(J)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},D.blob&&(this.blob=function(){var J=q(this);if(J)return J;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?q(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(t)}),this.text=function(){var J=q(this);if(J)return J;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},D.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(J){var K=J.toUpperCase();return-1<H.indexOf(K)?K:J}function z(J,K){K=K||{};var L=K.body;if(J instanceof z){if(J.bodyUsed)throw new TypeError("Already read");this.url=J.url,this.credentials=J.credentials,K.headers||(this.headers=new p(J.headers)),this.method=J.method,this.mode=J.mode,L||null==J._bodyInit||(L=J._bodyInit,J.bodyUsed=!0)}else this.url=J+"";if(this.credentials=K.credentials||this.credentials||"omit",(K.headers||!this.headers)&&(this.headers=new p(K.headers)),this.method=y(K.method||this.method||"GET"),this.mode=K.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}function A(J){var K=new FormData;return J.trim().split("&").forEach(function(L){if(L){var M=L.split("="),N=M.shift().replace(/\+/g," "),O=M.join("=").replace(/\+/g," ");K.append(decodeURIComponent(N),decodeURIComponent(O))}}),K}function B(J){var K=new p;return J.split(/\r?\n/).forEach(function(L){var M=L.split(":"),N=M.shift().trim();if(N){var O=M.join(":").trim();K.append(N,O)}}),K}function C(J,K){K||(K={}),this.type="default",this.status="status"in K?K.status:200,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in K?K.statusText:"OK",this.headers=new p(K.headers),this.url=K.url||"",this._initBody(J)}if(!j.fetch){var D={searchParams:"URLSearchParams"in j,iterable:"Symbol"in j&&"iterator"in Symbol,blob:"FileReader"in j&&"Blob"in j&&function(){try{return new Blob,!0}catch(J){return!1}}(),formData:"FormData"in j,arrayBuffer:"ArrayBuffer"in j};if(D.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],F=function(K){return K&&DataView.prototype.isPrototypeOf(K)},G=ArrayBuffer.isView||function(J){return J&&-1<E.indexOf(Object.prototype.toString.call(J))};p.prototype.append=function(J,K){J=k(J),K=l(K);var L=this.map[J];this.map[J]=L?L+","+K:K},p.prototype["delete"]=function(J){delete this.map[k(J)]},p.prototype.get=function(J){return J=k(J),this.has(J)?this.map[J]:null},p.prototype.has=function(J){return this.map.hasOwnProperty(k(J))},p.prototype.set=function(J,K){this.map[k(J)]=l(K)},p.prototype.forEach=function(J,K){for(var L in this.map)this.map.hasOwnProperty(L)&&J.call(K,this.map[L],L,this)},p.prototype.keys=function(){var J=[];return this.forEach(function(K,L){J.push(L)}),m(J)},p.prototype.values=function(){var J=[];return this.forEach(function(K){J.push(K)}),m(J)},p.prototype.entries=function(){var J=[];return this.forEach(function(K,L){J.push([L,K])}),m(J)},D.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);var H=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];z.prototype.clone=function(){return new z(this,{body:this._bodyInit})},x.call(z.prototype),x.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},C.error=function(){var J=new C(null,{status:0,statusText:""});return J.type="error",J};var I=[301,302,303,307,308];C.redirect=function(J,K){if(-1===I.indexOf(K))throw new RangeError("Invalid status code");return new C(null,{status:K,headers:{location:J}})},j.Headers=p,j.Request=z,j.Response=C,j.fetch=function(J,K){return new Promise(function(L,M){var N=new z(J,K),O=new XMLHttpRequest;O.onload=function(){var P={status:O.status,statusText:O.statusText,headers:B(O.getAllResponseHeaders()||"")};P.url="responseURL"in O?O.responseURL:P.headers.get("X-Request-URL");var Q="response"in O?O.response:O.responseText;L(new C(Q,P))},O.onerror=function(){M(new TypeError("Network request failed"))},O.ontimeout=function(){M(new TypeError("Network request failed"))},O.open(N.method,N.url,!0),"include"===N.credentials&&(O.withCredentials=!0),"responseType"in O&&D.blob&&(O.responseType="blob"),N.headers.forEach(function(P,Q){O.setRequestHeader(Q,P)}),O.send("undefined"==typeof N._bodyInit?null:N._bodyInit)})},j.fetch.polyfill=!0}})("undefined"==typeof self?this:self)}])})();
//# sourceMappingURL=components-compat.min.js.map
